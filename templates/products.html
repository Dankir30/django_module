{% extends 'base.html' %}

{% block content %}

    {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>{{ message }}</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}

    <div style="display: flex;
  justify-content: center">
        <div class="container text-center">
            <div class="row row-cols-3 mb-3 mt-3">
                {% for item in product_list %}
                    <div class="col">
                        <div class="card mb-3 mx-auto " style="width: 18rem;">
                            <div class="card-body">
                                <h5 class="card-title">{{ item.name }}</h5>
                                <h6 class="card-subtitle mb-2 text-body-secondary"> left: {{ item.balance }}</h6>
                                <h1 class="card-subtitle mb-2 text-body-secondary">{{ item.price }} grn</h1>
                                <a href="{% url 'details' item.id %}" class="btn btn-outline-primary">More</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div aria-label="..." style="display: flex;
  justify-content: center" class="mb-3">
        <ul class="pagination d-flex">
            {% if page_obj.has_previous %}
                <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
            {% endif %}
            </li>
            {% for p in paginator.page_range %}
                <li class="page-item"><a class="page-link" href="?page={{ p }}">{{ p}}</a></li>
            {% endfor %}
            {% if page_obj.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
                </li>
            {% endif %}
        </ul>
    </div>
{% endblock %}